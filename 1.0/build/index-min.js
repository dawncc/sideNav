/*!build time : 2013-10-15 12:19:07 AM*/
KISSY.add("gallery/sideNav/1.0/mods/tool",function(){function a(a){var b=document.createElement("div"),c="Khtml Ms O Moz Webkit".split(" "),d=c.length;if(a in b.style)return!0;for(a=a.replace(/^[a-z]/,function(a){return a.toUpperCase()});d--;)if(c[d]+a in b.style)return!0;return!1}var b={isSupportTransition:a("transition"),isSupportTransform:a("transform"),isSupportFilter:a("filter"),transition:function(a,b,c){var d=a+" "+b/1e3+"s "+c;return{"-webkit-transition":d,"-moz-transition":d,"-o-transition":d,transition:d}},transform:function(a){return{"-webkit-transform":a,"-moz-transform":a,"-o-transform":a,transform:a}},filter:function(a){return{"-webkit-filter":a,"-moz-filter":a,"-o-filter":a,filter:a}}};return b}),KISSY.add("gallery/sideNav/1.0/mods/fade",function(a,b,c,d,e){b.all;var f={opacity:"0",display:"block"},g={display:"none"},h={opacity:"1"},i={opacity:"0"},j={reset:function(b){var c=b.cfg;e.isSupportTransition?(b.navNode.css(f),a.later(function(){var a=e.transition("all",c.duration,c.easing);b.navNode.css(a)},50)):b.navNode.css(g)},show:function(a){var b=a.cfg;e.isSupportTransition?a.navNode.css(h):a.navNode.fadeIn(b.duration/1e3,null,b.easing)},hide:function(a){var b=a.cfg;e.isSupportTransition?a.navNode.css(i):a.navNode.fadeOut(b.duration/1e3,null,b.easing)}};return j},{requires:["node","anim","base","./tool"]}),KISSY.add("gallery/sideNav/1.0/mods/zoom",function(a,b,c,d,e){b.all;var f=a.merge(e.transform("scale(0)"),{display:"block"}),g={width:"0",height:"0",overflow:"hidden",display:"block"},h=e.transform("scale(1)"),i=e.transform("scale(0)"),j={reset:function(b){var c=b.cfg;e.isSupportTransform&&e.isSupportTransition?(b.navNode.css(f),a.later(function(){var a=e.transition("all",c.duration,c.easing);b.navNode.css(a)},50)):b.navNode.css(g)},show:function(a){var b=a.cfg;e.isSupportTransform&&e.isSupportTransition?a.navNode.css(h):a.navNode.animate({width:a.navWidth,height:a.navHeight},b.duration/1e3,b.easing)},hide:function(a){var b=a.cfg;e.isSupportTransform&&e.isSupportTransition?a.navNode.css(i):a.navNode.animate({width:0,height:0},b.duration/1e3,b.easing)}};return j},{requires:["node","anim","base","./tool"]}),KISSY.add("gallery/sideNav/1.0/mods/rotate",function(a,b,c,d,e){b.all;var f=a.merge(e.transform("scale(0) rotate(-270deg)"),{display:"block"}),g={width:"0",height:"0",overflow:"hidden",display:"block"},h=e.transform("scale(1) rotate(0)"),i=e.transform("scale(0) rotate(-270deg)"),j={reset:function(b){var c=b.cfg;e.isSupportTransform&&e.isSupportTransition?(b.navNode.css(f),a.later(function(){var a=e.transition("all",c.duration,c.easing);b.navNode.css(a)},50)):b.navNode.css(g)},show:function(a){var b=a.cfg;e.isSupportTransform&&e.isSupportTransition?a.navNode.css(h):a.navNode.animate({width:a.navWidth,height:a.navHeight},b.duration/1e3,b.easing)},hide:function(a){var b=a.cfg;e.isSupportTransform&&e.isSupportTransition?a.navNode.css(i):a.navNode.animate({width:0,height:0},b.duration/1e3,b.easing)}};return j},{requires:["node","anim","base","./tool"]}),KISSY.add("gallery/sideNav/1.0/mods/blur",function(a,b,c,d,e){b.all;var f=a.merge(e.filter("blur(5px)"),{opacity:"0",display:"block"}),g={display:"none"},h=a.merge(e.filter("blur(0)"),{opacity:"1"}),i=a.merge(e.filter("blur(5px)"),{opacity:"0"}),j={reset:function(b){var c=b.cfg;e.isSupportFilter&&e.isSupportTransition?(b.rootNode.css({overflow:"hidden",width:b.navWidth+10,height:b.navHeight+10}),b.navNode.css(f),a.later(function(){var a=e.transition("all",c.duration,c.easing);b.navNode.css(a)},50)):b.navNode.css(g)},show:function(a){var b=a.cfg;e.isSupportFilter&&e.isSupportTransition?a.navNode.css(h):a.navNode.fadeIn(b.duration/1e3,null,b.easing)},hide:function(a){var b=a.cfg;e.isSupportFilter&&e.isSupportTransition?a.navNode.css(i):a.navNode.fadeOut(b.duration/1e3,null,b.easing)}};return j},{requires:["node","anim","base","./tool"]}),KISSY.add("gallery/sideNav/1.0/mods/blink",function(a,b,c,d,e){b.all;var f=a.merge(e.transform("scale(1.2)"),{opacity:"0",display:"block"}),g={display:"none"},h=a.merge(e.transform("scale(1)"),{opacity:"1"}),i=a.merge(e.transform("scale(1.2)"),{opacity:"0"}),j={reset:function(b){var c=b.cfg;e.isSupportTransform&&e.isSupportTransition?(b.navNode.css(f),a.later(function(){var a=e.transition("all",c.duration,c.easing);b.navNode.css(a)},50)):b.navNode.css(g)},show:function(a){var b=a.cfg;e.isSupportTransform&&e.isSupportTransition?a.navNode.css(h):a.navNode.fadeIn(b.duration/1e3,null,b.easing)},hide:function(a){var b=a.cfg;e.isSupportTransform&&e.isSupportTransition?a.navNode.css(i):a.navNode.fadeOut(b.duration/1e3,null,b.easing)}};return j},{requires:["node","anim","base","./tool"]}),KISSY.add("gallery/sideNav/1.0/index",function(a,b,c,d,e,f,g,h,i){function j(b){var c=this;return this instanceof j?(c.cfg=a.merge({},l,b),c.init(),j.superclass.constructor.call(c,b),void 0):new j(b)}var k=b.all,l={node:"",effect:"zoom",easing:"ease",duration:300,when:{type:1,top:300,node:"",delay:3e3},top:{node:"",easing:"ease",duration:300},map:{enable:!1,easing:"ease",duration:300,rule:[{"":""}]}};return a.extend(j,d,{_checkParam:function(){var b=this,c=b.cfg,d=!0,e=["fade","zoom","rotate","blur","blink","slideDown","slideUp","slideLeft","slideRight"],f=["linear","ease","ease-in","ease-out","ease-in-out"];return k(c.node).length||(d=!1,a.log("can't find node.")),a.inArray(c.effect,e)||(c.effect="zoom"),a.inArray(c.easing,f)||(c.easing="ease"),2!=c.when.type||k(c.when.node).length||(d=!1,a.log("can't find when node.")),a.isNumber(c.when.top)||(c.when.top=300),a.isNumber(c.when.delay)||(c.when.delay=3e3),a.inArray(c.top.easing,f)||(c.top.easing="ease"),k(c.top.node).length||a.log("can't find top node."),a.isNumber(c.top.duration)||(c.top.duration=300),a.inArray(c.map.easing,f)||(c.map.easing="ease"),a.isNumber(c.map.duration)||(c.map.duration=300),d},_initCxt:function(){var a=this;a.rootNode=k(a.cfg.node),a.navHeight=a.rootNode.height(),a.navWidth=a.rootNode.width();var b='<div class="sn-nav-wrapper"></div>';a.rootNode.wrapInner(b),a.navNode=a.rootNode.one(".sn-nav-wrapper"),a.navNode.css({position:"absolute",left:"0",right:"0",top:"0",bottom:"0",margin:"auto",display:"none",width:a.navWidth,height:a.navHeight}),a.rootNode.css({display:"block",overflow:"visible",width:a.navWidth,height:a.navHeight}),a.whenNode=k(a.cfg.when.node),a.topNode=k(a.cfg.top.node)},_scrollCallBack:function(){var a=this,b=a.cfg,c=0,d=document.body.scrollTop||document.documentElement&&document.documentElement.scrollTop;return 1==b.when.type&&(c=b.when.top),2==b.when.type&&(c=a.whenNode.offset().top-k(window).height()),d>=c?a.show():a.hide(),!0},_addEvent:function(){var b=this,c=b.cfg,d=a.buffer(b._scrollCallBack,100,this);k(window).on("load",function(){b._scrollCallBack()}).on("scroll resize",function(){d()}),b.topNode.length&&b.topNode.on("click",function(a){a.preventDefault(),c.top.duration?k(window).animate({scrollTop:0},c.top.duration/1e3,c.top.easing):window.scrollTo(0,0)})},_when:function(){var b=this,c=b.cfg;3==c.when.type&&a.later(b.show,c.when.delay,!1,b)},stopAnim:function(a){c.stop(a,!0)},_resetStyle:function(){var a=this,b=a.cfg;"fade"==b.effect?e.reset(a):"zoom"==b.effect?f.reset(a):"rotate"==b.effect?g.reset(a):"blur"==b.effect?h.reset(a):"blink"==b.effect?i.reset(a):e.reset(a)},show:function(){var a=this,b=a.cfg;a.stopAnim(a.navNode),"fade"==b.effect?e.show(a):"zoom"==b.effect?f.show(a):"rotate"==b.effect?g.show(a):"blur"==b.effect?h.show(a):"blink"==b.effect?i.show(a):e.show(a)},hide:function(){var a=this,b=a.cfg;a.stopAnim(a.navNode),"fade"==b.effect?e.hide(a):"zoom"==b.effect?f.hide(a):"rotate"==b.effect?g.hide(a):"blur"==b.effect?h.hide(a):"blink"==b.effect?i.hide(a):e.hide(a)},init:function(){var a=this;return a._checkParam()?(a._initCxt(),a._when(),a._resetStyle(),a._addEvent(),void 0):!1}},{ATTRS:{}}),j},{requires:["node","anim","base","./mods/fade","./mods/zoom","./mods/rotate","./mods/blur","./mods/blink"]});